<!-- templates/home.html -->
{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section with Wave Pattern -->
<div class="position-relative overflow-hidden">
    <!-- Decorative Wave Background -->
    <div style="position: absolute; top: 0; right: 0; width: 60%; height: 600px; opacity: 0.15; pointer-events: none;">
        <svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
            <path d="M0,100 Q200,50 400,100 T800,100 L800,0 L0,0 Z" fill="url(#gradient1)"/>
            <path d="M0,200 Q200,150 400,200 T800,200 L800,0 L0,0 Z" fill="url(#gradient2)" opacity="0.5"/>
            <defs>
                <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#FF6B35;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#6B35FF;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#FFB800;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#FF6B35;stop-opacity:1" />
                </linearGradient>
            </defs>
        </svg>
    </div>

    <div class="container">
        <!-- Hero Section -->
        <div class="row min-vh-100 align-items-center py-5">
            <div class="col-lg-6 pe-lg-5">
                <div class="mb-4">
                    <span class="blackbox-badge mb-4 d-inline-flex">
                        <i class="bi bi-shield-check"></i> PRIVACY-FIRST AI + WEB3
                    </span>
                    <h1 class="display-2 fw-bold mb-4" style="line-height: 1.1; color: var(--dawn-dark);">
                        Your AI.<br>
                        Your Data.<br>
                        <span class="glow-text">Your Wallet.</span>
                    </h1>
                    <p class="lead mb-4" style="color: #666; font-size: 1.25rem;">
                        CypherVault is the first true Web3 AI dApp. Connect your Solana wallet, chat with local AI, 
                        and maintain complete data sovereignty on your DAWN Black Box.
                    </p>
                </div>
                
                <!-- CTA Buttons -->
                <div class="d-flex flex-column gap-3 mb-5">
                    {% if user.is_authenticated %}
                        <a href="{% url 'dashboard' %}" class="btn btn-dawn btn-lg">
                            Open Dashboard <i class="bi bi-arrow-right ms-2"></i>
                        </a>
                    {% else %}
                        <!-- Primary: Wallet Login -->
                        <a href="{% url 'wallet_login' %}" class="btn btn-dawn btn-lg">
                            <i class="bi bi-wallet2 me-2"></i> Connect Wallet (Web3 Login)
                        </a>
                        
                        <!-- Secondary: Traditional -->
                        <div class="d-flex gap-2">
                            <a href="{% url 'register' %}" class="btn btn-outline-dawn flex-fill">
                                <i class="bi bi-person-plus me-2"></i> Sign Up
                            </a>
                            <a href="{% url 'login' %}" class="btn btn-outline-dawn flex-fill">
                                <i class="bi bi-key me-2"></i> Password Login
                            </a>
                        </div>
                        
                        <!-- Info Badge -->
                        <div class="alert alert-info mb-0" style="border-radius: 12px; border-left: 4px solid var(--dawn-blue);">
                            <small>
                                <strong><i class="bi bi-info-circle"></i> New to Web3?</strong><br>
                                No problem! Install <a href="https://phantom.app/" target="_blank" style="color: var(--dawn-orange);">Phantom Wallet</a> 
                                in 30 seconds and experience true decentralized authentication.
                            </small>
                        </div>
                    {% endif %}
                </div>
                
                <!-- Trust Indicators -->
                <div class="row g-3">
                    <div class="col-4">
                        <div class="text-center p-3" style="background: rgba(255,107,53,0.05); border-radius: 16px;">
                            <div class="h2 mb-0 glow-text fw-bold">{{ stats.total_conversations|default:"1K" }}+</div>
                            <small style="color: #666; font-weight: 500;">Conversations</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center p-3" style="background: rgba(107,53,255,0.05); border-radius: 16px;">
                            <div class="h2 mb-0 fw-bold" style="color: var(--dawn-purple);">{{ stats.messages_encrypted|default:"10K" }}+</div>
                            <small style="color: #666; font-weight: 500;">Encrypted</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center p-3" style="background: rgba(76,175,80,0.05); border-radius: 16px;">
                            <div class="h2 mb-0 fw-bold" style="color: #4CAF50;">100%</div>
                            <small style="color: #666; font-weight: 500;">Private</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 ps-lg-5">
                <!-- Black Box Vision -->
                <div class="dawn-card position-relative" style="overflow: hidden;">
                    <div class="position-absolute top-0 end-0 m-3" style="z-index: 10;">
                        <span class="badge" style="background: #4CAF50; color: white; padding: 8px 14px; border-radius: 20px; font-weight: 600;">
                            <i class="bi bi-circle-fill" style="font-size: 8px; animation: pulse 2s infinite;"></i> WEB3 ENABLED
                        </span>
                    </div>
                    
                    <!-- Web3 Features Preview -->
                    <div class="p-4">
                        <h5 class="fw-bold mb-4" style="color: var(--dawn-dark);">
                            <i class="bi bi-wallet2"></i> True dApp Features
                        </h5>
                        
                        <div class="mb-3 p-3" style="background: rgba(107,53,255,0.05); border-radius: 12px; border-left: 4px solid var(--dawn-purple);">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong style="color: var(--dawn-dark);">Solana Wallet Authentication</strong>
                            </div>
                            <small style="color: #666;">Sign in with your wallet - no passwords needed</small>
                        </div>
                        
                        <div class="mb-3 p-3" style="background: rgba(255,107,53,0.05); border-radius: 12px; border-left: 4px solid var(--dawn-orange);">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong style="color: var(--dawn-dark);">Blockchain-Ready P2P Network</strong>
                            </div>
                            <small style="color: #666;">Share knowledge on-chain with cryptographic verification</small>
                        </div>
                        
                        <div class="mb-3 p-3" style="background: rgba(76,175,80,0.05); border-radius: 12px; border-left: 4px solid #4CAF50;">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong style="color: var(--dawn-dark);">Local AI Processing</strong>
                            </div>
                            <small style="color: #666;">Ollama runs on your Black Box - truly private</small>
                        </div>
                        
                        <div class="p-3" style="background: rgba(0,0,0,0.02); border-radius: 12px;">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <strong style="color: var(--dawn-dark);">Zero-Knowledge Proofs</strong>
                            </div>
                            <small style="color: #666;">Advanced cryptographic authentication</small>
                        </div>
                    </div>
                    
                    <div class="text-center mt-4 p-3" style="background: linear-gradient(135deg, rgba(255,107,53,0.1), rgba(107,53,255,0.1)); border-radius: 12px;">
                        <h6 class="fw-bold mb-2" style="color: var(--dawn-dark);">
                            <i class="bi bi-box"></i> Powered by DAWN Black Box
                        </h6>
                        <small style="color: #666;">
                            Decentralized infrastructure for the sovereignty era
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section - DAWN Style Cards -->
<div style="background: var(--dawn-blue-light); padding: 100px 0;">
    <div class="container">
        <div class="text-center mb-5">
            <span class="blackbox-badge mb-3">WHY CYPHERVAULT</span>
            <h2 class="display-4 fw-bold mb-3" style="color: var(--dawn-dark);">Built for Privacy & Decentralization</h2>
            <p class="lead" style="color: #666;">The only AI dApp that keeps your data truly yours</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4">
                <div class="dawn-card h-100 text-center">
                    <div class="mb-4" style="font-size: 56px;">🔒</div>
                    <h4 class="fw-bold mb-3" style="color: var(--dawn-dark);">End-to-End Encryption</h4>
                    <p style="color: #666;">
                        Every message encrypted with AES-256 before storage. Not even the server can read your conversations.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="dawn-card h-100 text-center">
                    <div class="mb-4" style="font-size: 56px;">💻</div>
                    <h4 class="fw-bold mb-3" style="color: var(--dawn-dark);">100% Local Processing</h4>
                    <p style="color: #666;">
                        AI runs on your Black Box using Ollama. No cloud APIs, no external servers, no data leaks.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="dawn-card h-100 text-center">
                    <div class="mb-4" style="font-size: 56px;">🌐</div>
                    <h4 class="fw-bold mb-3" style="color: var(--dawn-dark);">True dApp Architecture</h4>
                    <p style="color: #666;">
                        Wallet-based auth, blockchain-ready infrastructure, and decentralized P2P networking.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="dawn-card h-100 text-center">
                    <div class="mb-4" style="font-size: 56px;">🛡️</div>
                    <h4 class="fw-bold mb-3" style="color: var(--dawn-dark);">Zero Data Collection</h4>
                    <p style="color: #666;">
                        We don't collect, store, or analyze your data. Ever. Your privacy is non-negotiable.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="dawn-card h-100 text-center">
                    <div class="mb-4" style="font-size: 56px;">⚡</div>
                    <h4 class="fw-bold mb-3" style="color: var(--dawn-dark);">Lightning Fast</h4>
                    <p style="color: #666;">
                        No network latency. Your AI responds instantly because it runs right on your hardware.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="dawn-card h-100 text-center">
                    <div class="mb-4" style="font-size: 56px;">🔧</div>
                    <h4 class="fw-bold mb-3" style="color: var(--dawn-dark);">Open Source</h4>
                    <p style="color: #666;">
                        Fully auditable code. No black boxes (except the Black Box itself). Trust through transparency.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- New Cypherpunk Features -->
<div style="background: #000; color: white; padding: 100px 0;">
    <div class="container">
        <div class="text-center mb-5">
            <span class="badge mb-3" style="background: var(--dawn-orange); padding: 10px 20px; border-radius: 20px;">
                ⚡ WEB3 + CYPHERPUNK FEATURES
            </span>
            <h2 class="display-4 fw-bold mb-3">Beyond Traditional AI</h2>
            <p class="lead" style="color: #999;">Revolutionary features that redefine secure, decentralized AI</p>
        </div>
        
        <div class="row g-4">
            <!-- Wallet Authentication -->
            <div class="col-md-6">
                <div class="p-4" style="background: rgba(107,53,255,0.1); border-radius: 20px; border: 2px solid var(--dawn-purple);">
                    <div class="mb-3" style="font-size: 56px;">👛</div>
                    <h4 class="fw-bold mb-3">Solana Wallet Authentication</h4>
                    <p style="color: #ccc;">
                        True Web3 dApp authentication. No passwords, no emails. Just your Solana wallet signature. 
                        Connect, sign, and you're in - exactly like Uniswap or OpenSea.
                    </p>
                    <ul style="color: #999;">
                        <li><strong>Cryptographic Signatures:</strong> Prove wallet ownership</li>
                        <li><strong>Auto Account Creation:</strong> New wallet = new account</li>
                        <li><strong>Decentralized Identity:</strong> Your wallet is your ID</li>
                        <li><strong>No Password Storage:</strong> Blockchain-native security</li>
                    </ul>
                    <div class="mt-3">
                        <a href="{% url 'wallet_login' %}" class="btn btn-outline-light">
                            <i class="bi bi-wallet2 me-2"></i> Try Wallet Login
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- P2P Network -->
            <div class="col-md-6">
                <div class="p-4" style="background: rgba(255,107,53,0.1); border-radius: 20px; border: 2px solid var(--dawn-orange);">
                    <div class="mb-3" style="font-size: 56px;">🌐</div>
                    <h4 class="fw-bold mb-3">True P2P Knowledge Network</h4>
                    <p style="color: #ccc;">
                        Not a centralized database. Real peer-to-peer mesh where Black Boxes connect directly. 
                        Share knowledge on-chain with cryptographic verification.
                    </p>
                    <ul style="color: #999;">
                        <li><strong>Mesh Topology:</strong> Self-healing network</li>
                        <li><strong>Blockchain Records:</strong> On-chain knowledge sharing</li>
                        <li><strong>E2E Encrypted:</strong> AES-256 + RSA-2048</li>
                        <li><strong>Reputation System:</strong> Trust through consensus</li>
                    </ul>
                    <div class="mt-3 p-3" style="background: rgba(0,0,0,0.3); border-radius: 12px;">
                        <small style="color: #0f0; font-family: monospace;">
                            > Connecting to Solana...<br>
                            > Wallet verified ✓<br>
                            > Broadcasting to mesh network...<br>
                            > ✓ Knowledge recorded on-chain
                        </small>
                    </div>
                </div>
            </div>
            
            <!-- Zero-Knowledge Proofs -->
            <div class="col-md-6">
                <div class="p-4" style="background: rgba(76,175,80,0.1); border-radius: 20px; border: 2px solid #4CAF50;">
                    <div class="mb-3" style="font-size: 56px;">🛡️</div>
                    <h4 class="fw-bold mb-3">Zero-Knowledge Proof Auth</h4>
                    <p style="color: #ccc;">
                        Prove your identity without revealing your secret. Advanced cryptography that would make 
                        the cypherpunks proud. Optional authentication method for maximum privacy.
                    </p>
                    <ul style="color: #999;">
                        <li><strong>ZK Proofs:</strong> Prove knowledge without revealing it</li>
                        <li><strong>Cryptographic Challenges:</strong> Server-side verification</li>
                        <li><strong>No Password Storage:</strong> Only proof hashes stored</li>
                        <li><strong>Quantum Resistant:</strong> Future-proof security</li>
                    </ul>
                </div>
            </div>
            
            <!-- Local AI -->
            <div class="col-md-6">
                <div class="p-4" style="background: rgba(74,144,226,0.1); border-radius: 20px; border: 2px solid var(--dawn-blue);">
                    <div class="mb-3" style="font-size: 56px;">🤖</div>
                    <h4 class="fw-bold mb-3">Truly Private AI Processing</h4>
                    <p style="color: #ccc;">
                        Ollama runs on your Black Box. Your conversations never touch the internet. 
                        No OpenAI. No Anthropic. No cloud. Just you and your AI.
                    </p>
                    <ul style="color: #999;">
                        <li><strong>Local LLM:</strong> llama3.2, mistral, or custom models</li>
                        <li><strong>Streaming Responses:</strong> Real-time generation</li>
                        <li><strong>Offline Capable:</strong> No internet required</li>
                        <li><strong>Full Control:</strong> Your hardware, your rules</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="container py-5 my-5">
    <div class="row">
        <div class="col-lg-10 offset-lg-1">
            <div class="dawn-card text-center" style="background: linear-gradient(135deg, rgba(255,107,53,0.05), rgba(107,53,255,0.05)); padding: 80px 40px;">
                <h2 class="display-4 fw-bold mb-4" style="color: var(--dawn-dark);">
                    Ready for True AI Sovereignty?
                </h2>
                <p class="lead mb-5" style="color: #666; max-width: 600px; margin: 0 auto;">
                    Join the Web3 AI revolution. Connect your wallet and experience what AI should be.
                </p>
                {% if not user.is_authenticated %}
                <div class="d-flex justify-content-center gap-3 mb-4">
                    <a href="{% url 'wallet_login' %}" class="btn btn-dawn btn-lg">
                        <i class="bi bi-wallet2 me-2"></i> Connect Wallet
                    </a>
                    <a href="{% url 'register' %}" class="btn btn-outline-dawn btn-lg">
                        Traditional Sign Up
                    </a>
                </div>
                {% else %}
                <a href="{% url 'dashboard' %}" class="btn btn-dawn btn-lg">
                    Go to Dashboard <i class="bi bi-arrow-right ms-2"></i>
                </a>
                {% endif %}
                <div class="mt-4">
                    <small style="color: #999; font-weight: 500;">
                        🌐 True dApp • 🔒 E2E Encrypted • 👛 Wallet Auth • ⚡ Local AI • 🛡️ Zero-Knowledge
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
{% endblock %}